#:kivy 2.3.0

<ClipSlot>:
    size_hint: None, None
    width: dp(88)
    height: dp(20)
    padding: dp(4), dp(2)
    spacing: dp(6)
    canvas.before:
        Color:
            rgba:
                (0.25, 0.25, 0.25, 1) if self.status == "empty" else \
                (0.35, 0.35, 0.35, 1) if self.status == "stopped" else \
                (0.15, 0.50, 1.00, 1) if self.status == "queued"  else \
                (0.00, 0.80, 0.35, 1) # playing
        Rectangle:
            pos: self.pos
            size: self.size
        # Border - much more visible like in the image
        Color:
            rgba: (0.3, 0.3, 0.3, 1)
        Line:
            width: 2
            rectangle: (*self.pos, *self.size)
    on_touch_up:
        # Si el toque cae dentro, dispara
        (self.trigger() if self.collide_point(*args[1].pos) else None)

    # Clip name label - only show if there's text
    Label:
        text: root.label_text if root.label_text else ""
        color: 1,1,1,1
        font_size: dp(9)
        halign: 'left'
        valign: 'middle'
        text_size: self.size
        opacity: 1 if root.label_text else 0